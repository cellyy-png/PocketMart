<view class="container">
  <view class="header">
    <view class="search-box" bindtap="onSearch">
      <icon type="search" size="14" color="#999"></icon>
      <text>搜索商品</text>
    </view>
  </view>

  <view class="content">
    <scroll-view class="left-nav" scroll-y>
      <view 
        class="nav-item {{currentId === item.id ? 'active' : ''}}" 
        wx:for="{{categories}}" 
        wx:key="id"
        bindtap="onSwitchTab"
        data-id="{{item.id}}"
        data-index="{{index}}"
      >
        <view class="indicator" wx:if="{{currentId === item.id}}"></view>
        {{item.name}}
      </view>
    </scroll-view>

    <scroll-view class="right-content" scroll-y>
      <view class="cate-banner" wx:if="{{currentSub.banner}}">
        <image src="{{currentSub.banner}}" mode="aspectFill"></image>
      </view>

      <view class="sub-list" wx:if="{{currentSub.children && currentSub.children.length > 0}}">
        <view 
          class="sub-item" 
          wx:for="{{currentSub.children}}" 
          wx:key="id"
          bindtap="toProductDetail"
          data-id="{{item.id}}"
        >
          <image class="sub-icon" src="{{item.image}}" mode="aspectFill"></image>
          <text class="sub-name">{{item.name}}</text>
          <text class="sub-price">¥{{item.price}}</text>
        </view>
      </view>
      
      <view class="empty-cate" wx:else>
        <text>该分类暂无商品</text>
      </view>
    </scroll-view>
  </view>
</view>