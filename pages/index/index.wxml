<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar" bindtap="onSearchTap">
    <view class="search-input">
      <text class="search-icon">ğŸ”</text>
      <text class="placeholder">æœç´¢å•†å“</text>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <view class="banner-section" wx:if="{{banners.length > 0}}">
    <swiper 
      class="banner-swiper"
      indicator-dots
      autoplay
      interval="3000"
      duration="500"
      circular
    >
      <swiper-item 
        wx:for="{{banners}}" 
        wx:key="id"
        data-item="{{item}}"
        bindtap="onBannerTap"
      >
        <image class="banner-image" src="{{item.image}}" mode="aspectFill" />
      </swiper-item>
    </swiper>
  </view>

  <!-- åˆ†ç±»å¯¼èˆª -->
  <view class="category-section" wx:if="{{categories.length > 0}}">
    <view class="category-grid">
      <view 
        class="category-item" 
        wx:for="{{categories}}" 
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="onCategoryTap"
      >
        <image class="category-icon" src="{{item.icon}}" mode="aspectFill" />
        <text class="category-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- å•†å“åˆ—è¡¨ -->
  <view class="product-section" wx:if="{{products.length > 0}}">
    <view class="section-header">
      <text class="section-title">ç²¾é€‰å•†å“</text>
    </view>
    
    <view class="product-list">
      <view 
        class="product-card" 
        wx:for="{{products}}" 
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="onProductTap"
      >
        <image class="product-image" src="{{item.image}}" mode="aspectFill" />
        
        <view class="product-info">
          <text class="product-name">{{item.name}}</text>
          <text class="product-desc">{{item.desc}}</text>
          
          <view class="product-bottom">
            <view class="price-box">
              <text class="price-symbol">Â¥</text>
              <text class="price-value">{{item.price}}</text>
              <text class="price-original" wx:if="{{item.originalPrice}}">Â¥{{item.originalPrice}}</text>
            </view>
            
            <text class="product-sales" wx:if="{{item.sales}}">å·²å”®{{item.sales}}</text>
          </view>
        </view>
        
        <!-- æ ‡ç­¾ -->
        <view class="product-tags" wx:if="{{item.tags && item.tags.length > 0}}">
          <text class="tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">{{tag}}</text>
        </view>
      </view>
    </view>
    
    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" wx:if="{{hasMore && !loading}}">
      <text>ä¸Šæ‹‰åŠ è½½æ›´å¤š...</text>
    </view>
    
    <!-- æ²¡æœ‰æ›´å¤š -->
    <view class="no-more" wx:if="{{!hasMore && products.length > 0}}">
      <text>æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-container" wx:if="{{!loading && products.length === 0}}">
    <text class="empty-text">æš‚æ— å•†å“</text>
  </view>
</view>